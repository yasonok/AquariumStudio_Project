<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ‰‹æ©Ÿä¸Šå‚³ - Aquarium Studio</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .mobile-upload-page {
      background: var(--gray-100);
      min-height: 100vh;
      padding-bottom: 100px;
    }
    
    .mobile-upload-header {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: white;
      padding: 25px 20px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .mobile-upload-header h1 {
      font-size: 1.5rem;
      margin-bottom: 5px;
    }
    
    .mobile-upload-header p {
      opacity: 0.9;
      font-size: 0.9rem;
    }
    
    .nav-back-link {
      display: flex;
      align-items: center;
      gap: 8px;
      color: white;
      text-decoration: none;
      font-size: 0.95rem;
      margin-bottom: 15px;
      opacity: 0.9;
    }
    
    .nav-back-link:hover {
      opacity: 1;
    }
    
    .mobile-upload-card {
      margin: 20px 15px;
      background: var(--white);
      border-radius: var(--border-radius-lg);
      padding: 25px;
      box-shadow: var(--shadow-sm);
    }
    
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 25px;
    }
    
    .quick-action-btn {
      padding: 18px 15px;
      font-size: 0.95rem;
      border-radius: var(--border-radius);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }
    
    .quick-action-btn span:first-child {
      font-size: 1.5rem;
    }
    
    .mobile-form-group {
      margin-bottom: 22px;
    }
    
    .mobile-form-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      color: var(--dark-color);
      margin-bottom: 10px;
      font-size: 1rem;
    }
    
    .mobile-form-group input,
    .mobile-form-group select,
    .mobile-form-group textarea {
      width: 100%;
      padding: 16px;
      border: 2px solid var(--gray-200);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: var(--transition);
      background: var(--white);
    }
    
    .mobile-form-group input:focus,
    .mobile-form-group select:focus,
    .mobile-form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.1);
    }
    
    .upload-area {
      border: 3px dashed var(--gray-300);
      border-radius: var(--border-radius);
      padding: 40px 20px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      background: var(--gray-100);
    }
    
    .upload-area:active {
      background: var(--primary-light);
      border-color: var(--primary-color);
    }
    
    .upload-area.has-images {
      border-color: var(--primary-color);
      background: rgba(13, 110, 253, 0.05);
    }
    
    .upload-icon {
      font-size: 3rem;
      margin-bottom: 12px;
    }
    
    .upload-text {
      color: var(--gray-600);
      font-size: 1rem;
      font-weight: 500;
    }
    
    .upload-hint {
      font-size: 0.85rem;
      color: var(--gray-500);
      margin-top: 8px;
    }
    
    .image-preview {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
      justify-content: center;
    }
    
    .image-preview img {
      width: 90px;
      height: 90px;
      object-fit: cover;
      border-radius: var(--border-radius);
      border: 3px solid var(--gray-200);
    }
    
    .camera-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      padding: 16px;
      font-size: 1.05rem;
      margin: 10px 0 20px;
    }
    
    .submit-btn {
      padding: 18px;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: var(--border-radius);
    }
    
    .tips-card {
      margin: 20px 15px;
      background: var(--white);
      border-radius: var(--border-radius-lg);
      padding: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .tips-card h4 {
      font-size: 1rem;
      margin-bottom: 15px;
      color: var(--dark-color);
    }
    
    .tips-card ul {
      padding-left: 20px;
    }
    
    .tips-card li {
      color: var(--gray-600);
      font-size: 0.9rem;
      margin-bottom: 8px;
      list-style: disc;
    }
    
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--white);
      padding: 10px 15px;
      display: flex;
      justify-content: space-around;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    
    .bottom-nav a {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 8px 15px;
      color: var(--gray-600);
      text-decoration: none;
      font-size: 0.75rem;
      border-radius: var(--border-radius);
      transition: var(--transition);
    }
    
    .bottom-nav a.active {
      color: var(--primary-color);
      background: var(--primary-light);
    }
    
    .bottom-nav a span {
      font-size: 1.3rem;
      margin-bottom: 3px;
    }
  </style>
</head>
<body class="mobile-upload-page">
  <header class="mobile-upload-header">
    <a href="admin.html" class="nav-back-link">
      â† è¿”å›å¾Œå°
    </a>
    <h1>ğŸ“± æ‰‹æ©Ÿä¸Šå‚³</h1>
    <p>å¤§æŒ‰éˆ•è¨­è¨ˆï¼Œæ–¹ä¾¿æ‰‹æ©Ÿæ“ä½œ</p>
  </header>

  <div class="mobile-upload-card">
    <div class="quick-actions">
      <button class="btn btn-secondary quick-action-btn" onclick="loadSampleProducts()">
        <span>ğŸ“¥</span>
        <span>è¼‰å…¥ç¯„ä¾‹</span>
      </button>
      <button class="btn btn-outline quick-action-btn" onclick="clearAllProducts()">
        <span>ğŸ—‘ï¸</span>
        <span>æ¸…é™¤å…¨éƒ¨</span>
      </button>
    </div>

    <form id="mobile-upload-form">
      <div class="mobile-form-group">
        <label>ğŸ“· å•†å“åœ–ç‰‡</label>
        <div class="upload-area" id="mobile-upload-area" onclick="document.getElementById('mobile-product-image').click()">
          <div class="upload-icon">ğŸ–¼ï¸</div>
          <p class="upload-text">é»æ“Šé¸æ“‡åœ–ç‰‡</p>
          <p class="upload-hint">æ”¯æ´ JPGã€PNG æ ¼å¼</p>
        </div>
        <input type="file" id="mobile-product-image" accept="image/*" style="display: none;">
        <div class="image-preview" id="mobile-image-preview"></div>
      </div>

      <button type="button" id="camera-capture-btn" class="btn btn-secondary camera-btn">
        ğŸ“· ç›¸æ©Ÿæ‹æ”
      </button>

      <div class="mobile-form-group">
        <label>ğŸŸ å•†å“åç¨± *</label>
        <input type="text" id="mobile-product-name" required placeholder="ä¾‹å¦‚ï¼šå…¨ç´…å­”é›€é­š">
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <div class="mobile-form-group">
          <label>ğŸ’° åƒ¹æ ¼ *</label>
          <input type="number" id="mobile-product-price" required placeholder="200" min="0" inputmode="numeric">
        </div>
        <div class="mobile-form-group">
          <label>ğŸ“¦ åº«å­˜ *</label>
          <input type="number" id="mobile-product-stock" required placeholder="10" min="0" inputmode="numeric">
        </div>
      </div>

      <div class="mobile-form-group">
        <label>ğŸ·ï¸ é¡åˆ¥ *</label>
        <select id="mobile-product-category" required>
          <option value="å­”é›€é­š">ğŸŸ å­”é›€é­š</option>
          <option value="è¨­å‚™">âš™ï¸ è¨­å‚™</option>
          <option value="é£¼æ–™">ğŸ¦ é£¼æ–™</option>
          <option value="æ°´è³ª">ğŸ’§ æ°´è³ª</option>
          <option value="å…¶ä»–">ğŸ“ å…¶ä»–</option>
        </select>
      </div>

      <div class="mobile-form-group">
        <label>ğŸ“ å•†å“æè¿°</label>
        <textarea id="mobile-product-description" rows="3" placeholder="è¼¸å…¥å•†å“ç‰¹è‰²èˆ‡èªªæ˜"></textarea>
      </div>

      <button type="submit" class="btn btn-primary submit-btn">
        â• æ–°å¢å•†å“
      </button>
    </form>
  </div>

  <div class="tips-card">
    <h4>ğŸ’¡ ä¸Šå‚³å°æç¤º</h4>
    <ul>
      <li>æ¸…æ™°çš„å•†å“åœ–ç‰‡èƒ½æé«˜è³¼è²·ç‡</li>
      <li>å•†å“æè¿°è¶Šè©³ç´°ï¼Œé¡§å®¢è¶Šæœ‰ä¿¡å¿ƒè³¼è²·</li>
      <li>è¨˜å¾—è¨­å®šæ­£ç¢ºçš„åº«å­˜æ•¸é‡</li>
      <li>é¸æ“‡é©ç•¶çš„é¡åˆ¥æ–¹ä¾¿é¡§å®¢æœå°‹</li>
    </ul>
  </div>

  <nav class="bottom-nav">
    <a href="index.html">
      <span>ğŸ </span>
      <span>é¦–é </span>
    </a>
    <a href="shop.html">
      <span>ğŸ›’</span>
      <span>å•†åº—</span>
    </a>
    <a href="cart.html">
      <span>ğŸ›ï¸</span>
      <span>è³¼ç‰©è»Š</span>
    </a>
    <a href="admin.html" class="active">
      <span>âš™ï¸</span>
      <span>ç®¡ç†</span>
    </a>
  </nav>

  <script src="js/app.js"></script>
  <script>
    const STORAGE_KEY = 'aquarium_products';
    
    document.addEventListener('DOMContentLoaded', function() {
      // Image preview
      const imageInput = document.getElementById('mobile-product-image');
      const preview = document.getElementById('mobile-image-preview');
      const uploadArea = document.getElementById('mobile-upload-area');
      
      imageInput?.addEventListener('change', function() {
        preview.innerHTML = '';
        
        if (this.files.length > 0) {
          uploadArea.classList.add('has-images');
          uploadArea.querySelector('.upload-text').textContent = `å·²é¸æ“‡ ${this.files.length} å¼µåœ–ç‰‡`;
        } else {
          uploadArea.classList.remove('has-images');
          uploadArea.querySelector('.upload-text').textContent = 'é»æ“Šé¸æ“‡åœ–ç‰‡';
        }
        
        Array.from(this.files).forEach(file => {
          if (file.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const img = document.createElement('img');
              img.src = e.target.result;
              preview.appendChild(img);
            };
            reader.readAsDataURL(file);
          }
        });
      });
      
      // Form submit
      document.getElementById('mobile-upload-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const imageFile = document.getElementById('mobile-product-image').files[0];
        const products = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
        
        const productData = {
          id: Date.now(),
          name: document.getElementById('mobile-product-name').value,
          price: parseInt(document.getElementById('mobile-product-price').value),
          stock: parseInt(document.getElementById('mobile-product-stock').value),
          category: document.getElementById('mobile-product-category').value,
          description: document.getElementById('mobile-product-description').value,
          featured: false,
          updated_at: new Date().toISOString()
        };
        
        if (imageFile) {
          const reader = new FileReader();
          reader.onload = function(e) {
            productData.image = e.target.result;
            products.push(productData);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(products));
            alert('âœ… å•†å“å·²æ–°å¢ï¼');
            window.location.reload();
          };
          reader.readAsDataURL(imageFile);
        } else {
          productData.image = 'images/products/default-guppy.svg';
          products.push(productData);
          localStorage.setItem(STORAGE_KEY, JSON.stringify(products));
          alert('âœ… å•†å“å·²æ–°å¢ï¼');
          window.location.reload();
        }
      });
    });

    function loadSampleProducts() {
      if (!confirm('è¼‰å…¥ç¯„ä¾‹å•†å“æœƒè¦†è“‹ç¾æœ‰è³‡æ–™ï¼Œç¢ºå®šè¦ç¹¼çºŒå—ï¼Ÿ')) return;
      
      const sampleProducts = [
        { id: 1, name: 'ç´…è‰²è‰å°¾å­”é›€é­š', price: 200, stock: 10, category: 'å­”é›€é­š', description: 'è‰²æ¾¤é®®è‰·çš„ç´…è‰²è‰å°¾å­”é›€é­š', image: 'images/products/guppy-red.jpg' },
        { id: 2, name: 'è—è‰²è«æ–¯ç§‘å­”é›€é­š', price: 350, stock: 5, category: 'å­”é›€é­š', description: 'å…¨èº«è—è‰²é‡‘å±¬å…‰æ¾¤', image: 'images/products/guppy-blue.jpg' },
        { id: 3, name: 'é»ƒè‰²æ‰‡å°¾å­”é›€é­š', price: 180, stock: 8, category: 'å­”é›€é­š', description: 'å„ªé›…çš„æ‰‡å°¾é€ å‹', image: 'images/products/guppy-yellow.jpg' },
        { id: 4, name: 'ç™½è‰²ç™½é‡‘å­”é›€é­š', price: 250, stock: 6, category: 'å­”é›€é­š', description: 'ç´”ç™½è‰²é«”è‰²æ­é…ç™½é‡‘å…‰æ¾¤', image: 'images/products/guppy-white.jpg' },
        { id: 5, name: 'é»‘è‰²ç¥é¢¨å­”é›€é­š', price: 300, stock: 3, category: 'å­”é›€é­š', description: 'ç¥ç§˜é»‘è‰²é«”è‰²', image: 'images/products/guppy-black.jpg' },
        { id: 6, name: 'é­šç¼¸éæ¿¾å™¨ (å°å‹)', price: 800, stock: 15, category: 'è¨­å‚™', description: 'é©åˆ30-60å…¬åˆ†é­šç¼¸', image: 'images/products/default.svg' },
        { id: 7, name: 'å­”é›€é­šå°ˆç”¨é£¼æ–™', price: 150, stock: 30, category: 'é£¼æ–™', description: 'å°ˆç”¨ç‡Ÿé¤Šé£¼æ–™', image: 'images/products/default.svg' }
      ];
      
      localStorage.setItem(STORAGE_KEY, JSON.stringify(sampleProducts));
      alert('ç¯„ä¾‹å•†å“å·²è¼‰å…¥ï¼');
    }

    function clearAllProducts() {
      if (!confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰å•†å“å—ï¼Ÿæ­¤å‹•ä½œç„¡æ³•å¾©åŸï¼')) return;
      
      localStorage.removeItem(STORAGE_KEY);
      localStorage.removeItem('aquarium_orders');
      localStorage.removeItem('aquarium_cart');
      alert('æ‰€æœ‰è³‡æ–™å·²æ¸…é™¤');
    }
  </script>
</body>
</html>
